package main;

import java.text.DecimalFormat;
import java.util.Scanner;

public class ConsoleBasedCalculator {

	private static final DecimalFormat DF = new DecimalFormat("#.##########");

	public static void main(String[] args) {

		try (Scanner sc = new Scanner(System.in)) {
			System.out.println("====== Console Based Calculator ======");
			System.out.println("Type 'exit' anytime to quit.\n");

			while (true) {
				Double num1 = readDouble(sc, "Enter the first number: ");
				if (num1 == null)
					break;

				Character op = readOperator(sc, "Enter operator (+, -, *, /): ");
				if (op == null)
					break;

				Double num2 = readDouble(sc, "Enter the second number: ");
				if (num2 == null)
					break;

				Double result = calculate(num1, num2, op);
				if (result == null) {
					// e.g., division by zero
					continue;
				}

				System.out.println("âœ… Result: " + DF.format(result));

				if (!askToContinue(sc))
					break;
				System.out.println();
			}

			System.out.println("Calculator closed. Bye ðŸ‘‹");
		}
	}
}
